<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Milo Pha ƒê√°</title>

  <link rel="stylesheet" href="effect.css" />

  <style>
    :root{
      --bg: #060a14;
      --card: rgba(20,28,44,.62);
      --card2: rgba(20,28,44,.45);
      --text: #e9eefc;
      --muted: rgba(233,238,252,.72);
      --stroke: rgba(255,255,255,.10);
      --pill: rgba(255,255,255,.10);
      --btn: rgba(255,255,255,.12);
      --shadow: 0 24px 60px rgba(0,0,0,.40);
    }
    [data-theme="light"]{
      --bg: #eef2ff;
      --card: rgba(255,255,255,.72);
      --card2: rgba(255,255,255,.55);
      --text: #0b1220;
      --muted: rgba(11,18,32,.72);
      --stroke: rgba(11,18,32,.10);
      --pill: rgba(11,18,32,.08);
      --btn: rgba(11,18,32,.08);
      --shadow: 0 24px 60px rgba(0,0,0,.18);
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      min-height:100vh;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg) url("bg.gif") center/cover no-repeat fixed;
      color: var(--text);
      display:flex;
      justify-content:center;
      padding:28px 14px 60px;
    }

    /* ch·ªëng m·ªçi ki·ªÉu xoay ch·ªØ */
    body, .wrap, .card, .panel, .section-title, .music, .tus{
      writing-mode: horizontal-tb !important;
      transform: none !important;
      rotate: 0deg !important;
    }

    .wrap{ width:min(1040px, 100%); }

    .card{
      border:1px solid var(--stroke);
      border-radius:24px;
      overflow:hidden;
      background: var(--card);
      box-shadow: var(--shadow);
      backdrop-filter: blur(14px);
      position:relative;
    }

    .cover{
      height:240px;
      background: url("cover.gif") center/cover no-repeat;
      position:relative;
    }

    .top-actions{
      position:absolute;
      top:16px; right:16px;
      display:flex; gap:10px;
      z-index:80;
    }

    .btn{
      border:1px solid var(--stroke);
      background: var(--btn);
      color: var(--text);
      padding:10px 12px;
      border-radius:14px;
      cursor:pointer;
      user-select:none;
      font-weight:800;
    }
    .btn:active{ transform: scale(.98); }
    .btn[disabled]{ cursor:not-allowed; opacity:.55; }

    .header{
      padding:18px 22px 10px;
      display:grid;
      grid-template-columns: 230px 1fr;
      gap:18px;
      align-items:center;
    }

    .title h1{
      margin:0;
      font-size: clamp(22px, 3.2vw, 34px);
      line-height:1.15;
      letter-spacing:.2px;
    }
    .title .sub{
      margin-top:6px;
      color: var(--muted);
      font-weight:700;
      font-size:14px;
    }
    .title .quote{
      margin-top:8px;
      color: var(--muted);
      font-style: italic;
      font-size:13px;
    }

    .pills{
      margin-top:12px;
      display:flex; flex-wrap:wrap;
      gap:10px;
    }
    .pill{
      display:inline-flex;
      gap:8px;
      align-items:center;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background: var(--pill);
      font-size:13px;
      color: var(--text);
      font-weight:700;
    }

    /* ===== MUSIC (ƒë·∫∑t ngay d∆∞·ªõi title, tr∆∞·ªõc ph·∫ßn Gi·ªõi thi·ªáu) ===== */
    .music{
      margin:6px 22px 14px;
      border:1px solid var(--stroke);
      background: var(--card2);
      border-radius:18px;
      padding:14px;
    }
    .music-top{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:12px;
      flex-wrap:wrap;
      margin-bottom:10px;
    }
    .music-left h3{
      margin:0;
      font-size:16px;
      font-weight:900;
    }
    .music-sub{
      margin-top:6px;
      color: var(--muted);
      font-size:13px;
      font-weight:600;
    }

    /* T√™n b√†i nh·∫°c n·ªïi b·∫≠t + mode m√†u */
    .musicTitle{
      margin-top:2px;
      font-size:20px;
      font-weight:1000;
      letter-spacing:.2px;
      line-height:1.2;
      text-shadow: 0 10px 30px rgba(0,0,0,.28);
    }
    .title-white{ color: #ffffff; }
    .title-black{ color: #0b1220; }
    .title-rainbow{
      background: linear-gradient(90deg,
        #ff004c, #ff8a00, #ffe600, #3dff00, #00ffd5, #007bff, #a400ff, #ff004c
      );
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      animation: rainbowMove 4s linear infinite;
      filter: drop-shadow(0 0 8px rgba(255,255,255,.22));
    }
    @keyframes rainbowMove{
      0%{ background-position: 0% 50%; }
      100%{ background-position: 200% 50%; }
    }

    .music-controls{
      display:flex; gap:10px; align-items:center; flex-wrap:wrap;
    }
    .chip{
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.08);
      color: var(--text);
      padding:10px 12px;
      border-radius:999px;
      cursor:pointer;
      font-weight:800;
      user-select:none;
    }
    [data-theme="light"] .chip{
      background: rgba(11,18,32,.06);
    }

    audio{ width:100%; }

    .grid{
      display:grid;
      grid-template-columns: 1.2fr .9fr;
      gap:16px;
      padding:0 22px 18px;
    }
    .panel{
      border:1px solid var(--stroke);
      background: var(--card2);
      border-radius:18px;
      padding:16px;
    }
    .section-title{
      margin:0 0 10px;
      font-size:16px;
      font-weight:900;
    }
    ul{ margin:0; padding-left:18px; }
    li{ margin:6px 0; }

    .links{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
      padding:0 22px 18px;
    }
    .linkbtn{
      border:1px solid var(--stroke);
      background: var(--card2);
      border-radius:16px;
      padding:14px 12px;
      text-align:center;
      font-weight:900;
      cursor:pointer;
      color: var(--text);
      text-decoration:none;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
    }

    .tus{
      margin:0 22px 22px;
      border:1px solid var(--stroke);
      background: var(--card2);
      border-radius:18px;
      padding:14px;
    }
    .tus-head{
      display:flex; justify-content:space-between; align-items:center; gap:12px;
      flex-wrap:wrap;
      margin-bottom:10px;
    }
    .admin-note{
      color: var(--muted);
      font-size:13px;
      margin-top:4px;
      font-weight:600;
    }
    .tus-list a{
      display:block;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.06);
      color: var(--text);
      text-decoration:none;
      margin-top:10px;
      word-break: break-all;
    }
    .tus-del{
      margin-top:8px;
      display:inline-flex;
      align-items:center;
      gap:8px;
    }

    @media (max-width:860px){
      .header{ grid-template-columns: 1fr; }
      .grid{ grid-template-columns: 1fr; }
      .links{ grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card">
      <div class="cover"></div>

      <div class="top-actions">
        <button class="btn" id="themeBtn" type="button">üåô Dark</button>
        <button class="btn" id="adminBtn" type="button">üîí Admin</button>
      </div>

      <div class="header">
        <!-- AVATAR + EFFECT -->
        <div class="avatar-wrap">
          <div class="ring"></div>
          <img class="avatar" src="avatar.jpg" alt="avatar">
          <img class="frame" src="frame.png" alt="frame">
        </div>

        <div class="title">
          <h1>Milo Pha ƒê√° (Nhat boy)</h1>
          <div class="sub">IT Student ‚Ä¢ Software Engineering</div>
          <div class="quote">‚ÄúM·ªôt g√≥c nh·ªè tr√™n Internet c·ªßa Milo.‚Äù</div>

          <div class="pills">
            <div class="pill">üìç H·ªì Ch√≠ Minh</div>
            <div class="pill">üéÇ 19</div>
            <div class="pill">üéÆ gamer</div>
          </div>
        </div>
      </div>

      <!-- MUSIC: ƒë·∫∑t tr√™n ph·∫ßn Gi·ªõi thi·ªáu -->
      <div class="music">
        <div class="music-top">
          <div class="music-left">
            <h3>üéµ Nh·∫°c t√¥i nghe</h3>
            <div class="musicTitle title-rainbow" id="musicTitle">Ai ngo√†i anh</div>
            <!-- (ƒë√£ b·ªè 2 d√≤ng ch·ªØ bro kh√¥ng mu·ªën) -->
            <div class="music-sub" id="musicStatus"></div>
          </div>

          <div class="music-controls">
            <button class="btn" id="editMusicTitle" type="button">‚úèÔ∏è ƒê·ªïi t√™n</button>
            <div class="chip" id="colorBtn" title="ƒê·ªïi m√†u t√™n nh·∫°c">üé® M√†u: 7 s·∫Øc</div>
          </div>
        </div>

        <audio id="player" controls preload="auto"></audio>
      </div>

      <div class="grid">
        <div class="panel">
          <h3 class="section-title">Gi·ªõi thi·ªáu</h3>
          <ul>
            <li>‚ú® Ch·∫°y Ngay ƒêi</li>
            <li>üß∏ Ch·∫°y V√†o Tr√°i Tim Em</li>
            <li>ü•µ ƒê√πa Th√¥i Anh L√†m G√¨ C√≥ Em</li>
          </ul>
        </div>

        <div class="panel">
          <h3 class="section-title">Game m√¨nh hay ch∆°i</h3>
          <div style="display:grid;gap:10px">
            <div class="panel" style="padding:12px">
              üïπÔ∏è <b>Roblox</b><br><span style="color:var(--muted)">chill / sandbox</span>
            </div>
            <div class="panel" style="padding:12px">
              üéØ <b>Valorant</b><br><span style="color:var(--muted)">FPS / tryhard</span>
            </div>
            <div class="panel" style="padding:12px">
              ‚ôüÔ∏è <b>TFT</b><br><span style="color:var(--muted)">auto chess</span>
            </div>
          </div>
        </div>
      </div>

      <div class="links">
        <a class="linkbtn" id="fbBtn" href="https://facebook.com" target="_blank" rel="noreferrer">üåê Facebook</a>
        <a class="linkbtn" id="dcBtn" href="https://discord.com" target="_blank" rel="noreferrer">üéÆ Discord</a>
      </div>

      <div class="tus">
        <div class="tus-head">
          <div>
            <h3 class="section-title">üìù ƒê√¢y l√† n∆°i check c√°c tus c·ªßa t√¥i</h3>
            <div class="admin-note">Ng∆∞·ªùi xem ch·ªâ b·∫•m link ‚Ä¢ Admin m·ªõi th√™m/x√≥a üîê</div>
          </div>
          <button class="btn" id="addLinkBtn" type="button">‚ûï Th√™m link</button>
        </div>
        <div class="tus-list" id="tusList"></div>
      </div>
    </div>
  </div>

  <script>
    const $ = (id) => document.getElementById(id);

    // ===== Theme
    const root = document.documentElement;
    function setTheme(t){
      root.setAttribute("data-theme", t);
      localStorage.setItem("theme", t);
      $("themeBtn").textContent = (t === "light") ? "üåû Light" : "üåô Dark";
      // n·∫øu ƒëang d√πng m√†u BLACK m√† theme dark th√¨ v·∫´n ok, user ch·ªçn m√†
    }
    setTheme(localStorage.getItem("theme") || "dark");
    $("themeBtn").addEventListener("click", () => {
      const cur = root.getAttribute("data-theme") || "dark";
      setTheme(cur === "dark" ? "light" : "dark");
    });

    // ===== Admin (UI lock)
    const ADMIN_KEY = "admin_ok";
    const ADMIN_PASS = "079268";
    function isAdmin(){ return localStorage.getItem(ADMIN_KEY) === "1"; }

    function updateAdminUI(){
      const ok = isAdmin();
      $("adminBtn").textContent = ok ? "üîì Admin ON" : "üîí Admin";
      $("addLinkBtn").disabled = !ok;

      document.querySelectorAll("[data-del]").forEach(btn => {
        btn.style.display = ok ? "inline-flex" : "none";
      });
    }

    $("adminBtn").addEventListener("click", () => {
      if (isAdmin()){
        localStorage.setItem(ADMIN_KEY, "0");
        updateAdminUI();
        return;
      }
      const pw = prompt("Nh·∫≠p m·∫≠t kh·∫©u admin:");
      if (pw === ADMIN_PASS) {
        localStorage.setItem(ADMIN_KEY, "1");
        updateAdminUI();
      } else {
        alert("Sai m·∫≠t kh·∫©u üò≠");
      }
    });

    // ===== Music load (no status text)
    const player = $("player");
    const status = $("musicStatus");

    function loadMusic(){
      // ·∫®n status lu√¥n (bro mu·ªën b·ªè ch·ªØ)
      status.textContent = "";
      const url = new URL("music.mp3", window.location.href);
      url.searchParams.set("v", Date.now()); // anti-cache
      player.src = url.toString();
      player.load();
    }
    player.addEventListener("error", () => {
      // v·∫´n kh√¥ng hi·ªán status, ch·ªâ log nh·∫π
      console.log("Music load error: ki·ªÉm tra music.mp3");
    });
    loadMusic();

    // ===== Music title (editable)
    const titleEl = $("musicTitle");
    titleEl.textContent = localStorage.getItem("music_title") || "Ai ngo√†i anh";

    $("editMusicTitle").addEventListener("click", () => {
      const next = prompt("Nh·∫≠p t√™n b√†i m·ªõi:", titleEl.textContent);
      if (!next) return;
      titleEl.textContent = next;
      localStorage.setItem("music_title", next);
    });

    // ===== Title color mode: white / black / rainbow
    const COLOR_KEY = "music_title_color";
    const colorBtn = $("colorBtn");
    const modes = ["rainbow", "white", "black"];

    function applyColorMode(mode){
      titleEl.classList.remove("title-rainbow", "title-white", "title-black");
      if (mode === "rainbow"){
        titleEl.classList.add("title-rainbow");
        colorBtn.textContent = "üé® M√†u: 7 s·∫Øc";
      } else if (mode === "white"){
        titleEl.classList.add("title-white");
        colorBtn.textContent = "üé® M√†u: Tr·∫Øng";
      } else {
        titleEl.classList.add("title-black");
        colorBtn.textContent = "üé® M√†u: ƒêen";
      }
      localStorage.setItem(COLOR_KEY, mode);
    }

    applyColorMode(localStorage.getItem(COLOR_KEY) || "rainbow");

    colorBtn.addEventListener("click", () => {
      const cur = localStorage.getItem(COLOR_KEY) || "rainbow";
      const next = modes[(modes.indexOf(cur) + 1) % modes.length];
      applyColorMode(next);
    });

    // ===== Tus links (clickable, no copy needed)
    const tusKey = "tus_links";

    function getLinks(){
      try { return JSON.parse(localStorage.getItem(tusKey) || "[]"); }
      catch { return []; }
    }
    function setLinks(arr){ localStorage.setItem(tusKey, JSON.stringify(arr)); }

    function renderLinks(){
      const list = $("tusList");
      list.innerHTML = "";
      const arr = getLinks();

      if (arr.length === 0){
        list.innerHTML = `<div class="admin-note">Ch∆∞a c√≥ link n√†o üò¥</div>`;
        return;
      }

      arr.forEach((it, idx) => {
        const a = document.createElement("a");
        a.href = it.url;
        a.target = "_blank";
        a.rel = "noreferrer";
        a.textContent = `${it.title} ‚Äî ${it.url}`;
        list.appendChild(a);

        const del = document.createElement("button");
        del.className = "btn tus-del";
        del.dataset.del = "1";
        del.textContent = "üóëÔ∏è X√≥a";
        del.style.display = isAdmin() ? "inline-flex" : "none";
        del.onclick = () => {
          const arr2 = getLinks();
          arr2.splice(idx, 1);
          setLinks(arr2);
          renderLinks();
          updateAdminUI();
        };
        list.appendChild(del);
      });
    }

    $("addLinkBtn").addEventListener("click", () => {
      if (!isAdmin()){
        alert("Ch·ªâ admin m·ªõi th√™m ƒë∆∞·ª£c nha üîí");
        return;
      }
      const title = prompt("T√™n link (vd: Tus AV):");
      if (!title) return;
      const url = prompt("D√°n link v√†o (vd: https://facebook.com/...):");
      if (!url) return;

      const arr = getLinks();
      arr.unshift({ title, url });
      setLinks(arr);
      renderLinks();
      updateAdminUI();
    });

    renderLinks();
    updateAdminUI();
  </script>
</body>
</html>
