<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Milo Pha ƒê√°</title>

  <!-- ‚úÖ D√ôNG effect.css c·ªßa m -->
  <link rel="stylesheet" href="effect.css">

  <style>
    :root{
      --glass: rgba(255,255,255,.14);
      --glass2: rgba(255,255,255,.10);
      --stroke: rgba(255,255,255,.18);
      --text: #eaf2ff;
      --muted: rgba(255,255,255,.72);
      --shadow: 0 22px 70px rgba(0,0,0,.35);
      --radius: 22px;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      min-height:100vh;
      color:var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      background:
        radial-gradient(900px 600px at 20% 0%, rgba(99,102,241,.35), transparent 55%),
        radial-gradient(900px 600px at 90% 10%, rgba(56,189,248,.22), transparent 55%),
        url("bg.gif");
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
    }

    /* light mode */
    body.light{
      --glass: rgba(0,0,0,.06);
      --glass2: rgba(0,0,0,.04);
      --stroke: rgba(0,0,0,.10);
      --text:#0b1220;
      --muted: rgba(0,0,0,.62);
      background:
        radial-gradient(900px 600px at 20% 0%, rgba(99,102,241,.22), transparent 55%),
        radial-gradient(900px 600px at 90% 10%, rgba(56,189,248,.16), transparent 55%),
        url("bg.gif");
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
    }

    .wrap{
      width:min(980px, 94vw);
      margin: 18px auto 40px;
      position:relative;
    }

    /* top buttons */
    .top-actions{
      position: sticky;
      top: 10px;
      z-index: 50;
      display:flex;
      justify-content:flex-end;
      gap:10px;
      padding: 10px 0;
      pointer-events:none; /* quan tr·ªçng: ƒë·ªÉ kh·ªèi b·ªã ƒë√® b·ªüi overlay */
    }
    .btn{
      pointer-events:auto;
      border:1px solid var(--stroke);
      background: rgba(0,0,0,.22);
      color: var(--text);
      padding: 10px 14px;
      border-radius: 999px;
      backdrop-filter: blur(10px);
      box-shadow: 0 10px 30px rgba(0,0,0,.18);
      display:flex;
      align-items:center;
      gap:8px;
      cursor:pointer;
      user-select:none;
    }
    body.light .btn{ background: rgba(255,255,255,.42); }

    /* card */
    .card{
      border-radius: var(--radius);
      overflow:hidden;
      border:1px solid var(--stroke);
      box-shadow: var(--shadow);
      background: linear-gradient(180deg, rgba(0,0,0,.10), rgba(0,0,0,.22));
      backdrop-filter: blur(14px);
    }
    body.light .card{
      background: linear-gradient(180deg, rgba(255,255,255,.55), rgba(255,255,255,.35));
    }

    /* cover */
    .cover{
      position:relative;
      height: 260px;
      background: #000;
    }
    .cover img{
      width:100%;
      height:100%;
      object-fit: cover; /* ‚úÖ full cover */
      display:block;
      filter: saturate(1.05) contrast(1.05);
    }
    .cover::after{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(180deg, transparent 40%, rgba(0,0,0,.55));
      pointer-events:none;
    }

    /* header row */
    .header{
      display:flex;
      gap: 18px;
      padding: 18px;
      align-items:flex-end;
      margin-top: -64px;
      position:relative;
      z-index: 2;
    }

    .title-area{
      flex:1;
      min-width: 0;
    }
    h1{
      margin:0;
      font-size: clamp(22px, 4.8vw, 42px);
      line-height: 1.05;
      letter-spacing: .2px;
      text-shadow: 0 10px 30px rgba(0,0,0,.35);
    }
    .meta{
      margin-top: 6px;
      color: var(--muted);
      font-weight: 600;
      font-size: 13px;
    }
    .quote{
      margin-top: 6px;
      color: var(--muted);
      font-style: italic;
      font-size: 13px;
    }

    .chips{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top: 12px;
    }
    .chip{
      display:inline-flex;
      gap:8px;
      align-items:center;
      padding: 10px 14px;
      border-radius: 999px;
      border:1px solid var(--stroke);
      background: var(--glass2);
      backdrop-filter: blur(10px);
      font-weight: 700;
      font-size: 13px;
      color: var(--text);
    }

    /* sections grid */
    .grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
      padding: 0 18px 18px;
    }
    .box{
      border:1px solid var(--stroke);
      background: var(--glass);
      border-radius: 18px;
      padding: 14px;
      backdrop-filter: blur(12px);
      min-width:0;
    }
    .box h3{
      margin:0 0 10px;
      font-size: 16px;
      letter-spacing: .2px;
    }
    .list{
      margin:0;
      padding-left: 18px;
      color: var(--muted);
      font-weight: 600;
    }

    /* music block */
    .music-top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
    }
    .songName{
      font-size: 20px;
      font-weight: 900;
      margin: 2px 0 0;
    }
    .rainbow{
      background: linear-gradient(90deg, #ff3b30, #ff9500, #ffcc00, #34c759, #32ade6, #5856d6, #af52de);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    audio{ width:100%; }

    /* contact buttons */
    .contacts{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }
    .linkbtn{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding: 14px 12px;
      border-radius: 14px;
      border:1px solid var(--stroke);
      background: var(--glass2);
      color: var(--text);
      text-decoration:none;
      font-weight: 800;
    }

    /* tus area */
    .tusHead{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
    }
    .tusList{
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .tusItem{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      border:1px solid var(--stroke);
      background: var(--glass2);
      border-radius: 14px;
      padding: 10px 12px;
    }
    .tusItem a{
      color: var(--text);
      font-weight: 800;
      text-decoration:none;
      word-break: break-word;
    }
    .mini{
      color: var(--muted);
      font-weight:700;
      font-size: 12px;
      margin-top: 6px;
    }

    /* admin modal */
    .modal{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,.55);
      display:none;
      align-items:center;
      justify-content:center;
      z-index: 999;
      padding: 14px;
    }
    .modal.show{ display:flex; }
    .modalCard{
      width: min(920px, 96vw);
      max-height: 88vh;
      overflow:auto;
      border-radius: 18px;
      border:1px solid var(--stroke);
      background: rgba(15,23,42,.92);
      backdrop-filter: blur(16px);
      box-shadow: var(--shadow);
      padding: 14px;
      color: #eaf2ff;
    }
    body.light .modalCard{ background: rgba(255,255,255,.92); color:#0b1220; }
    .modalTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      position: sticky;
      top: 0;
      padding-bottom:10px;
      background: inherit;
    }
    .x{
      border:none;
      background: rgba(0,0,0,.18);
      color: inherit;
      width: 38px;
      height: 38px;
      border-radius: 12px;
      cursor:pointer;
    }
    .formGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-top: 10px;
    }
    label{ font-weight: 900; font-size: 13px; }
    input, select{
      width:100%;
      padding: 12px 12px;
      border-radius: 14px;
      border:1px solid rgba(0,0,0,.15);
      outline:none;
      background: rgba(255,255,255,.92);
      color:#0b1220;
    }
    body.dark input, body.dark select{
      background: rgba(255,255,255,.12);
      color: #eaf2ff;
      border:1px solid rgba(255,255,255,.18);
    }
    .saveRow{
      display:flex;
      gap: 10px;
      margin-top: 12px;
      flex-wrap:wrap;
    }
    .saveRow .btn2{
      flex:1;
      border:none;
      border-radius: 14px;
      padding: 12px;
      font-weight: 900;
      cursor:pointer;
      background: #4aa8ff;
      color:#08111f;
    }
    .btnDanger{
      background:#ff5b5b !important;
      color:#250000 !important;
    }

    /* responsive */
    @media (max-width: 860px){
      .header{ flex-direction: column; align-items:center; text-align:center; margin-top:-82px; }
      .grid{ grid-template-columns: 1fr; }
      .contacts{ grid-template-columns: 1fr 1fr; }
      .cover{ height: 220px; }
    }
  </style>
</head>

<body class="dark">
  <div class="wrap">
    <div class="top-actions">
      <button class="btn" id="btnTheme">üåô <span id="themeText">Dark</span></button>
      <button class="btn" id="btnAdmin">üîí <span id="adminText">Admin</span></button>
    </div>

    <div class="card">
      <div class="cover">
        <img src="cover.gif" alt="cover">
      </div>

      <div class="header">
        <!-- ‚úÖ Avatar Discord frame d√πng effect.css + frame.png -->
        <div class="avatar-wrap">
          <div class="ring"></div>
          <img class="avatar" src="avatar.jpg" alt="avatar">
          <img class="frame" src="frame.png" alt="frame">
        </div>

        <div class="title-area">
          <h1>Milo Pha ƒê√° (Nh·∫°t boy)</h1>
          <div class="meta">IT Student ¬∑ Software Engineering</div>
          <div class="quote">‚ÄúM·ªôt g√≥c nh·ªè tr√™n Internet c·ªßa Milo.‚Äù</div>

          <div class="chips">
            <div class="chip">üìç H·ªì Ch√≠ Minh</div>
            <div class="chip">üéÇ 19</div>
            <div class="chip">üéÆ Gamer</div>
          </div>
        </div>
      </div>

      <div class="grid">
        <div class="box" id="musicBox">
          <div class="music-top">
            <h3 style="margin:0">üéµ Nh·∫°c t√¥i nghe</h3>
            <div class="mini">Admin m·ªõi ƒë·ªïi t√™n & m√†u</div>
          </div>
          <div class="songName rainbow" id="songName">Ai ngo√†i anh</div>
          <audio id="player" controls preload="metadata">
            <source src="music.mp3" type="audio/mpeg">
          </audio>
        </div>

        <div class="box">
          <h3>‚ú® Gi·ªõi thi·ªáu</h3>
          <ul class="list">
            <li>‚ú® Ch·∫°y Ngay ƒêi</li>
            <li>üß∏ Ch·∫°y V√†o Tr√°i Tim Em</li>
            <li>üòµ ƒê√πa Th√¥i Anh L√†m G√¨ C√≥ Em</li>
          </ul>
        </div>

        <div class="box">
          <h3>üéÆ Game m√¨nh hay ch∆°i</h3>
          <div class="tusList" style="gap:8px">
            <div class="tusItem"><span>üïπ Roblox</span><a id="robloxLink" href="#" target="_blank">M·ªü link</a></div>
            <div class="tusItem"><span>üéØ Valorant</span><a id="valoLink" href="#" target="_blank">M·ªü link</a></div>
            <div class="tusItem"><span>üß† TFT</span><a id="tftLink" href="#" target="_blank">M·ªü link</a></div>
          </div>
          <div class="mini">Admin c√≥ th·ªÉ d√°n link t√†i kho·∫£n game ƒë·ªÉ ng∆∞·ªùi xem b·∫•m v√†o.</div>
        </div>

        <div class="box">
          <h3>üìû Li√™n h·ªá</h3>
          <div class="contacts">
            <a class="linkbtn" id="fbBtn" href="https://facebook.com" target="_blank">üåê Facebook</a>
            <a class="linkbtn" id="dcBtn" href="https://discord.com/users/910327589309145109" target="_blank">üéÆ Discord</a>
          </div>
        </div>

        <div class="box" style="grid-column: 1 / -1;">
          <div class="tusHead">
            <div>
              <h3 style="margin:0">üìù ƒê√¢y l√† n∆°i check c√°c tus c·ªßa t√¥i</h3>
              <div class="mini">Ng∆∞·ªùi xem ch·ªâ b·∫•m link ¬∑ Admin m·ªõi th√™m/xo√° üîí</div>
            </div>
            <button class="btn" id="btnAddTus" style="pointer-events:auto">‚ûï Th√™m tus</button>
          </div>

          <div class="tusList" id="tusList"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- ADMIN MODAL -->
  <div class="modal" id="modal">
    <div class="modalCard">
      <div class="modalTop">
        <div style="font-weight:1000;font-size:18px">üîê Admin Panel</div>
        <button class="x" id="btnClose">‚úï</button>
      </div>

      <div class="formGrid">
        <div>
          <label>Link Facebook (d√°n link profile)</label>
          <input id="inFb" placeholder="https://facebook.com/..." />
        </div>
        <div>
          <label>Discord ID (ch·ªâ c·∫ßn ID)</label>
          <input id="inDc" placeholder="9103..." />
        </div>

        <div>
          <label>Link Roblox (t√†i kho·∫£n)</label>
          <input id="inRoblox" placeholder="D√°n link (c√≥ th·ªÉ ƒë·ªÉ tr·ªëng)" />
        </div>
        <div>
          <label>Link Valorant (t√†i kho·∫£n / tracker)</label>
          <input id="inValo" placeholder="D√°n link (c√≥ th·ªÉ ƒë·ªÉ tr·ªëng)" />
        </div>

        <div>
          <label>Link TFT (t√†i kho·∫£n / tracker)</label>
          <input id="inTft" placeholder="D√°n link (c√≥ th·ªÉ ƒë·ªÉ tr·ªëng)" />
        </div>
        <div>
          <label>T√™n b√†i nh·∫°c hi·ªÉn th·ªã</label>
          <input id="inSong" placeholder="Ai ngo√†i anh" />
        </div>
      </div>

      <div class="saveRow">
        <button class="btn2" id="btnSave">üíæ L∆∞u c√†i ƒë·∫∑t</button>
        <button class="btn2 btnDanger" id="btnLogout">üö™ Tho√°t Admin</button>
      </div>

      <hr style="opacity:.2;margin:14px 0">

      <div style="font-weight:1000;margin-bottom:8px">‚ûï Th√™m tus m·ªõi</div>
      <div class="formGrid" style="grid-template-columns:1fr 1fr">
        <div>
          <label>T√™n tus</label>
          <input id="inTusName" placeholder="Tus AV" />
        </div>
        <div>
          <label>Link tus Facebook</label>
          <input id="inTusLink" placeholder="https://www.facebook.com/..." />
        </div>
      </div>
      <div class="saveRow">
        <button class="btn2" id="btnSaveTus">‚ûï L∆∞u tus</button>
      </div>

      <div class="mini">Tus s·∫Ω hi·ªán cho m·ªçi ng∆∞·ªùi b·∫•m m·ªü tr·ª±c ti·∫øp.</div>
    </div>
  </div>

  <script>
    // ====== safe query
    const $ = (s)=>document.querySelector(s);

    // ====== state
    const PASS = "079268";
    const LS_KEY = "milo_settings_v1";
    const LS_TUS = "milo_tus_v1";
    let isAdmin = false;

    // ====== load saved settings
    function loadSettings(){
      try{
        return JSON.parse(localStorage.getItem(LS_KEY) || "{}");
      }catch(e){ return {}; }
    }
    function saveSettings(obj){
      localStorage.setItem(LS_KEY, JSON.stringify(obj));
    }

    function loadTus(){
      try{
        return JSON.parse(localStorage.getItem(LS_TUS) || "[]");
      }catch(e){ return []; }
    }
    function saveTus(arr){
      localStorage.setItem(LS_TUS, JSON.stringify(arr));
    }

    // ====== apply settings to UI
    function applySettings(){
      const s = loadSettings();

      if(s.fb) $("#fbBtn").href = s.fb;
      if(s.discordId) $("#dcBtn").href = "https://discord.com/users/" + s.discordId;

      // game links
      $("#robloxLink").href = s.roblox || "#";
      $("#valoLink").href = s.valo || "#";
      $("#tftLink").href = s.tft || "#";

      // song name
      if(s.song) $("#songName").textContent = s.song;

      // fill admin inputs
      $("#inFb").value = s.fb || "";
      $("#inDc").value = s.discordId || "910327589309145109";
      $("#inRoblox").value = s.roblox || "";
      $("#inValo").value = s.valo || "";
      $("#inTft").value = s.tft || "";
      $("#inSong").value = s.song || "Ai ngo√†i anh";
    }

    // ====== render tus list
    function renderTus(){
      const list = $("#tusList");
      const data = loadTus();
      list.innerHTML = "";

      if(data.length === 0){
        list.innerHTML = '<div class="mini">Ch∆∞a c√≥ tus n√†o. (Admin b·∫•m Th√™m tus ƒë·ªÉ th√™m)</div>';
        return;
      }

      data.forEach((t, idx)=>{
        const div = document.createElement("div");
        div.className = "tusItem";
        div.innerHTML = `
          <a href="${t.link}" target="_blank">${t.name}</a>
          ${isAdmin ? `<button data-i="${idx}" class="x" style="width:auto;padding:8px 12px;border-radius:12px">üóë Xo√°</button>` : ""}
        `;
        list.appendChild(div);
      });

      // bind delete
      if(isAdmin){
        list.querySelectorAll("button[data-i]").forEach(b=>{
          b.onclick = ()=>{
            const i = Number(b.dataset.i);
            const arr = loadTus();
            arr.splice(i,1);
            saveTus(arr);
            renderTus();
          };
        });
      }
    }

    // ====== theme toggle (fix click on mobile)
    function setTheme(mode){
      if(mode === "light"){
        document.body.classList.remove("dark");
        document.body.classList.add("light");
        $("#themeText").textContent = "Light";
      }else{
        document.body.classList.remove("light");
        document.body.classList.add("dark");
        $("#themeText").textContent = "Dark";
      }
      localStorage.setItem("milo_theme", mode);
    }

    // init theme
    const savedTheme = localStorage.getItem("milo_theme") || "dark";
    setTheme(savedTheme);

    $("#btnTheme").addEventListener("click", (e)=>{
      e.preventDefault();
      const now = document.body.classList.contains("light") ? "light" : "dark";
      setTheme(now === "dark" ? "light" : "dark");
    }, {passive:false});

    // ====== admin open/close
    function openModal(){
      $("#modal").classList.add("show");
      document.body.style.overflow = "hidden";
    }
    function closeModal(){
      $("#modal").classList.remove("show");
      document.body.style.overflow = "";
    }

    $("#btnClose").onclick = closeModal;

    // ‚úÖ button admin click fix
    $("#btnAdmin").addEventListener("click", (e)=>{
      e.preventDefault();
      if(isAdmin){
        openModal();
        return;
      }
      const p = prompt("Nh·∫≠p m·∫≠t kh·∫©u admin:");
      if(p === PASS){
        isAdmin = true;
        $("#adminText").textContent = "Admin ON";
        openModal();
        renderTus();
      }else{
        alert("Sai m·∫≠t kh·∫©u ü•≤");
      }
    }, {passive:false});

    // Add tus button: only admin
    $("#btnAddTus").onclick = ()=>{
      if(!isAdmin){
        alert("Ch·ªâ Admin m·ªõi th√™m tus nha üîí");
        return;
      }
      openModal();
      $("#inTusName").focus();
    };

    // Save settings
    $("#btnSave").onclick = ()=>{
      if(!isAdmin){
        alert("Ch·ªâ Admin m·ªõi l∆∞u c√†i ƒë·∫∑t üîí");
        return;
      }
      const s = {
        fb: $("#inFb").value.trim(),
        discordId: $("#inDc").value.trim(),
        roblox: $("#inRoblox").value.trim(),
        valo: $("#inValo").value.trim(),
        tft: $("#inTft").value.trim(),
        song: $("#inSong").value.trim()
      };
      saveSettings(s);
      applySettings();
      alert("ƒê√£ l∆∞u c√†i ƒë·∫∑t ‚úÖ");
    };

    // Save tus
    $("#btnSaveTus").onclick = ()=>{
      if(!isAdmin){
        alert("Ch·ªâ Admin m·ªõi th√™m tus üîí");
        return;
      }
      const name = $("#inTusName").value.trim();
      const link = $("#inTusLink").value.trim();
      if(!name || !link){
        alert("Nh·∫≠p ƒë·ªß T√™n tus + Link tus nha üòÖ");
        return;
      }
      const arr = loadTus();
      arr.unshift({name, link});
      saveTus(arr);
      $("#inTusName").value = "";
      $("#inTusLink").value = "";
      renderTus();
      alert("ƒê√£ th√™m tus ‚úÖ");
    };

    // Logout admin
    $("#btnLogout").onclick = ()=>{
      isAdmin = false;
      $("#adminText").textContent = "Admin";
      closeModal();
      renderTus();
      alert("ƒê√£ tho√°t Admin üëã");
    };

    // init
    applySettings();
    renderTus();
  </script>
  <div class="card">
  <h3>üìÖ Th·ªùi kho√° bi·ªÉu</h3>

  <div class="schedule">
    <div class="day">
      <h4>H√¥m nay</h4>
      <p>‚è∞ 7:30 ‚Äì 11:30: ƒêi h·ªçc</p>
      <p>üíª 13:00 ‚Äì 16:00: Code</p>
      <p class="free">üü¢ T·ªëi: R·∫£nh</p>
    </div>

    <div class="day">
      <h4>Ng√†y mai</h4>
      <p>üéÆ 14:00 ‚Äì 17:00: Ch∆°i game</p>
      <p class="free">üü¢ T·ªëi: R·∫£nh</p>
    </div>
  </div>
</div>
</body>
</html>
